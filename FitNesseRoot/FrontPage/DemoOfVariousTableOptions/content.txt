!define TEST_SYSTEM {slim}
!path ./spritnesse-proj/target/spritnesse-proj.jar
!path ./test-junit/target/test-junit-jar-with-dependencies.jar
!path ./test-spock/target/test-spock-jar-with-dependencies.jar

|import                  |
|org.oxenburgh.spritnesse|

!1 To make this work

You need to include the jar you want to test in both the !path statement, and as an argument to the table.

This is because of the way Fitnesse (and java) handles the class path. To get a list of tests, we need to specify a jar. To run those tests, that jar will need to be in the class path

There are alternatives to this, but this worked for me.

For spock and other environments, you'll need to make that environment available to fitnesse. I found a good way was to package the env up in the jar. You can look in the pom.xml for test-spock
as an example.

!2 Logging
You'll find the log file in the root dir, called spritnesse.log. If you want to override this, place a logback.* file in the classpath ahead of the spritnesse-proj jar.


!2 Will run spock tests

!|Table:SpockTable|./test-spock/target/test-spock.jar|
|org.oxenburgh                                       |

!2 No arguments. run only annotated tests
!|Table:AnnotatedTable|./test-junit/target/test-junit.jar|

!2 No arguments. Run all the tests to be found in the given jar
!|Table:JunitTable|./test-junit/target/test-junit.jar|

!2 unknown jar
!|Table:JunitTable|non-existent.jar|
|org.oxen.*                        |

!2 Argument - filters on package, regexp and wildcard
!|Table:JunitTable|./test-junit/target/test-junit.jar|
|org.oxen.*                                          |

!2 Argument - should find at least one test
!|Table:JunitTable|./test-junit/target/test-junit.jar|
|org.doesntexist.*                                   |
